# 1.Схема БД
## 1.1 Диаграмма БД

<a href="https://ibb.co/mNDNnh1"><img src="https://i.ibb.co/MB2BzPW/Untitled-1.png" alt="Схема" border="0"></a>

## 1.2 Таблицы и описание.

### 1.2.1 Описание таблицы Product
Таблица продуктов в которой содержится информация о товарах, и в какой категории находится данный товар, какая скидка на данных товар и кто поставщик.
| column_name | data_type |
| :---    |    ---: |
| Product_id   | int(11) |
| Product_name | varchar(200) |
| Category_id   | int(11) |
| Discount | int(11) |
| Manufacturer_id   | int(11) |
| basic_dicount | decimal(10,0) |
| Provider_id   | int(11) |
### 1.2.2 Описание таблицы Orders
Таблица в которой находится информация по заказам товара, Id товара, id покупателя, дата покупки.
| column_name | data_type |
| :---    |    ---: |
| ORDERS_ID   | int |
| Product_id | int(11) |
| Customers_id   | int |
| Buy_date | DATE |
### 1.2.3 Описание таблицы Customers
Таблица в которой находится данные о покупателях, имя и телефон.
| column_name | data_type |
| :---    |    ---: |
| Customers_id   | int |
| Customers_name | varchar(100) |
| Phone_number   | varchar(50) |
### 1.2.4 Описание таблицы Provider
Таблица в которой хранится информация о поставщиках, имя, телефон и email.
| column_name | data_type |
| :---    |    ---: |
| Customers_id   | int |
| Customers_name | varchar(100) |
| Phone_number   | varchar(50) |
| Email   | varchar(200) |
### 1.2.5 Описание таблицы Product_Category
Таблица в которой хранится информация по категориям продуктов и разнообразные скидки на категории продуктов.(На них завязана процедура расчета скидок ежидневная)
| column_name | data_type |
| :---    |    ---: |
| Category_id   | int(11) |
| Name | varchar(200) |
| Discount   | tinyint(11) |
| Bsic_Discount   | tinyint(11) |
| EDiscount   | tinyint(11) |
### 1.2.6 Описание таблицы Stock
Таблица склад, в которой отображаются продукты и их кол-во на остатке.
| column_name | data_type |
| :---    |    ---: |
| Stock_id   | int |
| Product_id | int(11)) |
| COUNT   | INT |
### 1.2.7 Описание таблицы  Price
| column_name | data_type |
| :---    |    ---: |
| Price_id   | int |
| Product_id | int(11) |
| Price   | Float |
### 1.2.8 Описание таблицы discount_dayweek
Таблица discount_dayweek для формирования уникальных скидок на каждый день для определённых категорий товаров.
| column_name | data_type |
| :---    |    ---: |
| id   | TINYINT |
| dayweek | VARCHAR(50) |
| Category_id   | int(11) |
| discount   | decimal |

# 2. Бизнес задачи.
Данная БД управляет движением товара от его закупки до реализации.
Связи между таблицами позволяют отслеживать кол-во поступаемого товара, а так же кол-во реализуемого товара по пользователям:

1.Количество закупленного проданного наименования товара, товара группы производителя
2.Сумма  полученных денег от продажи, а так же выявить самых частых покупателей.
3.Динамика изменения стоимости товара по наименованию, по группе производителя в разрезе временного промежутка
4.Получить статистику по продоваемым товарам, выставить скидки на не ликвидные позиции для более быстрого сбыта.
5.Позволяет точечно  по пользователям создавать рассылки по интересуещим их товарам.
6.Определяет частоту поставок по производителю/провайдеру.

# 3. Рекомендации к репликации
Продлогается реализовать Always On cluster для репликации данных в синхронном режиме, с возможностью моментально переключения.Т.к. простой или не доступность системы вызовет потерю денег и потерю лояльности потребителей.

# 4. Требования резервного копирования.

Полный бэкап  делаем каждую ночь с 02:00 , инкрементальный бэкап делаем каждые пол часа.

-------------------------------------
Репликация и резервирование зависит от требований закачика и рисков на которые они готовы пойти в плане экономии бюджета, все в итоге будет упираться в бюджет.
-------------------------------------
# 5. <code>[Скрипты](https://github.com/Denis-Karikh/SUBD/blob/e1d764dd441e429f96fb37a023b52bf2d7fb9bcb/diplom/sql.md)</code>  

Весь проект лучше разворачивать на облачных сервисах для того чтобы платить только за то что используется, в случаи необходимости доп ресурсов можно оперативно добавить их.




